<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:AvaloniaManager.ViewModels"
             x:Class="AvaloniaManager.Views.ArticlesView"
             x:DataType="vm:ArticlesViewModel">

	<StackPanel Margin="16" Spacing="16">
		<!-- Верхняя панель с заголовком и выбором даты -->
		<Grid Margin="0,0,0,10">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="*"/>
				<ColumnDefinition Width="Auto"/>
			</Grid.ColumnDefinitions>

			<TextBlock Grid.Column="0"
                      FontSize="16"
                      FontWeight="Bold"
                      VerticalAlignment="Center"
                      HorizontalAlignment="Left"
                      Text="{Binding MonthYearHeader}"/>

			<StackPanel Grid.Column="1"
                       Orientation="Horizontal"
                       Spacing="5"
                       VerticalAlignment="Center">
				<TextBlock Text="Дата:"
                          VerticalAlignment="Center"
                          Margin="0,0,5,0"/>
				<NumericUpDown Width="110"
                             Minimum="1"
                             Maximum="12"
                             Value="{Binding SelectedMonth}"
                             FormatString="00"
                             Watermark="Месяц"/>
				<NumericUpDown Width="110"
                             Minimum="2000"
                             Maximum="9999"
                             Value="{Binding SelectedYear}"
                             FormatString="0000"
                             Watermark="Год"/>
			</StackPanel>
		</Grid>

		<!-- Таблица статей (автоматическая высота) -->
		<DataGrid ItemsSource="{Binding Articles}"
                 AutoGenerateColumns="False"
                 HorizontalScrollBarVisibility="Visible"
                 VerticalAlignment="Top">
			<DataGrid.Columns>
				<DataGridTextColumn Header="Название" Binding="{Binding ArticleName}" Width="auto"/>
				<DataGridTextColumn Header="Сотрудник" Binding="{Binding Employee.FullName}" Width="auto"/>
				<DataGridTextColumn Header="Дата выпуска"
                                  Binding="{Binding ReleaseDate, StringFormat='{}{0:dd.MM.yyyy}'}"
                                  Width="auto"/>
				<DataGridTextColumn Header="Сумма" Binding="{Binding Summa}" Width="auto"/>
				<DataGridTextColumn Header="Бонус %" Binding="{Binding Bonus}" Width="auto"/>
				<DataGridTextColumn Header="Итог" Binding="{Binding Itog}" Width="auto"/>
				<DataGridTextColumn Header="СМИ" Binding="{Binding SMI}" Width="auto"/>
				<DataGridCheckBoxColumn Header="Реклама" Binding="{Binding Reklama}" Width="auto"/>
				<DataGridTextColumn Header="Тип контента" Binding="{Binding ContentType}" Width="auto"/>
			</DataGrid.Columns>
		</DataGrid>

		<!-- Панель пагинации и слайдер -->
		<Grid Margin="0,10,0,0">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="*"/>
				<ColumnDefinition Width="Auto"/>
				<ColumnDefinition Width="*"/>
			</Grid.ColumnDefinitions>

			<!-- Кнопки пагинации по центру -->
			<StackPanel Grid.Column="1"
                       Orientation="Horizontal"
                       Spacing="16"
                       HorizontalAlignment="Center">
				<Button Content="← Назад"
                       Command="{Binding PreviousPageCommand}"
                       IsEnabled="{Binding HasPreviousPage}"/>
				<TextBlock Text="{Binding CurrentPage, StringFormat='Страница {0}'}"
                          VerticalAlignment="Center"/>
				<Button Content="Вперед →"
                       Command="{Binding NextPageCommand}"
                       IsEnabled="{Binding HasNextPage}"/>
			</StackPanel>

			<!-- Слайдер справа -->
			<StackPanel Grid.Column="2"
                       Orientation="Horizontal"
                       HorizontalAlignment="Right"
                       Spacing="10">
				<TextBlock Text="Статей на странице:" VerticalAlignment="Center"/>
				<Slider Width="150"
                       Minimum="5"
                       Maximum="50"
                       Value="{Binding PageSize, Mode=TwoWay}"
                       IsSnapToTickEnabled="True"
                       Classes="Discrete"
                       TickFrequency="5"
                       VerticalAlignment="Center"/>
				<TextBlock Text="{Binding PageSize}"
                          VerticalAlignment="Center"
                          Margin="5,0,0,0"/>
			</StackPanel>
		</Grid>
	</StackPanel>
</UserControl>